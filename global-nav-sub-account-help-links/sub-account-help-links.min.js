/**
// @name        Global Nav - Custom Sub Account Help Links
// @namespace   https://github.com/robert-carroll/ccsd-canvas
//
**/
// global function for sub account help links
!function(){"use strict";const e='div[role="dialog"][aria-label="Global Navigation"] ul',t='img[data-testid="cheerful-panda-svg"]';var n="";const o="#help_tray",l="custom-help-link",r=(e,t)=>{let n=document.getElementById("nav-tray-portal");n?(void 0!==t&&t.disconnect(),new MutationObserver(s).observe(n,{childList:!0,subtree:!0})):void 0===t&&new MutationObserver(r).observe(document.body,{childList:!0})},s=(e,n)=>{let r=document.querySelector(`#help_tray ${t}`),s=document.querySelectorAll(`${o} ul li.${l}`);r&&0==s.length&&d(o)},i=function(t,n){let o=document.querySelector(e);o?null!=o&&(n.disconnect(),a(),c()):void 0===n&&new MutationObserver(i).observe(document.body,{childList:!0,subtree:!0})},c=function(t,n){let o=document.querySelector(e);null==o?null==o&&(n.disconnect(),i()):void 0===n&&new MutationObserver(c).observe(document.body,{childList:!0,subtree:!0})},a=function(o,l){let r=document.querySelector(t);r?null!=r&&(l.disconnect(),n=document.querySelector(`${t}`).parentElement.parentElement.className,d(`${e} span.${n}`),u()):void 0===l&&new MutationObserver(a).observe(document.body,{childList:!0,subtree:!0})},u=function(e,n){let o=document.querySelector(t);null==o?null==o&&(n.disconnect(),a()):void 0===n&&new MutationObserver(u).observe(document.body,{childList:!0,subtree:!0})},d=e=>{document.querySelector(e)&&"undefined"!=typeof linksForGlobalNavCustomHelpTray&&linksForGlobalNavCustomHelpTray.forEach((t=>{let n=t.position||linksForGlobalNavCustomHelpTray.indexOf(t)-1,o=document.querySelector(`${e} ul li:nth-of-type(${n})`),r=document.createElement("li");r.innerHTML=`<span direction="row" wrap="no-wrap" class="">\n <span class="" style="min-width: 100%; flex-basis: 100%;">\n <a target="${t.target}" rel="noopener" href="${t.href}" role="button" tabindex="0" class="">${t.title}</a>\n <div class="">${t.desc}</div>\n </span><span class=""></span></span>`,r.className=o.getAttribute("class"),r.classList.add(l),o.before(r)}))};r(),i()}();

// these can go in global (root) or sub account themes as needed
const linksForGlobalNavCustomHelpTray = [{
  href: "#custom_help_link",
  title: "Custom Link 1",
  desc: "Adding this from Javascript",
  target: '',
  position: 2
},
{
  href: "#custom_help_link_two",
  title: "Custom Link 2",
  desc: "This one too",
  target: '_blank',
  position: 5
}
];